<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asset Management System</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#f97316',
                        'primary-dark': '#ea580c',
                        secondary: '#10b981',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-orange-500 via-orange-600 to-red-600 min-h-screen">
    <div class="flex min-h-screen max-w-full bg-white">
        <aside class="w-64 bg-gradient-to-b from-orange-600 to-orange-800 text-white flex flex-col shadow-xl">
            <div class="p-8 border-b border-white/10 text-center">
                <h1 class="text-2xl font-bold mb-1 text-white">üóÇÔ∏è Assets</h1>
                <p class="text-sm opacity-80">Management System</p>
            </div>
            <nav class="flex-1 py-5">
                <a href="/dashboard" class="nav-item w-full flex items-center gap-4 px-6 py-4 text-white/80 hover:bg-white/10 hover:text-white transition-all duration-300 relative no-underline" data-route="dashboard">
                    <span class="w-8 flex items-center justify-center">
                        <svg viewBox="0 0 24 24" fill="currentColor" class="size-6">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M9 3a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-4a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2zm0 12a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-4a2 2 0 0 1 -2 -2v-2a2 2 0 0 1 2 -2zm10 -4a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-4a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2zm0 -8a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-4a2 2 0 0 1 -2 -2v-2a2 2 0 0 1 2 -2z" />
                        </svg>
                    </span>
                    <span class="flex-1 text-left font-medium">Dashboard</span>
                </a>
                <a href="/upload" class="nav-item w-full flex items-center gap-4 px-6 py-4 text-white/80 hover:bg-white/10 hover:text-white transition-all duration-300 relative no-underline active" data-route="upload">
                    <span class="w-8 flex items-center justify-center">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="size-6">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M12 18.004h-5.343c-2.572 -.004 -4.657 -2.011 -4.657 -4.487c0 -2.475 2.085 -4.482 4.657 -4.482c.393 -1.762 1.794 -3.2 3.675 -3.773c1.88 -.572 3.956 -.193 5.444 1c1.488 1.19 2.162 3.007 1.77 4.769h.99c1.38 0 2.57 .811 3.128 1.986" />
                            <path d="M19 22v-6" />
                            <path d="M22 19l-3 -3l-3 3" />
                        </svg>
                    </span>
                    <span class="flex-1 text-left font-medium">Upload</span>
                </a>
                <a href="/browse" class="nav-item w-full flex items-center gap-4 px-6 py-4 text-white/80 hover:bg-white/10 hover:text-white transition-all duration-300 relative no-underline" data-route="browse">
                    <span class="text-2xl w-8 flex items-center justify-center"><svg viewBox="0 0 24 24" fill="currentColor" class="size-6"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 3a1 1 0 0 1 .608 .206l.1 .087l2.706 2.707h6.586a3 3 0 0 1 2.995 2.824l.005 .176v8a3 3 0 0 1 -2.824 2.995l-.176 .005h-14a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-11a3 3 0 0 1 2.824 -2.995l.176 -.005h4z" /></svg></span>
                    <span class="flex-1 text-left font-medium">Browse</span>
                </a>
                <a href="/search" class="nav-item w-full flex items-center gap-4 px-6 py-4 text-white/80 hover:bg-white/10 hover:text-white transition-all duration-300 relative no-underline" data-route="search">
                    <span class="w-8 flex items-center justify-center">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="size-6">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M3 10a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
                            <path d="M21 21l-6 -6" />
                        </svg>
                    </span>
                    <span class="flex-1 text-left font-medium">Search</span>
                </a>
                <a href="/optimize" class="nav-item w-full flex items-center gap-4 px-6 py-4 text-white/80 hover:bg-white/10 hover:text-white transition-all duration-300 relative no-underline" data-route="optimize">
                    <span class="w-8 flex items-center justify-center">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="size-6">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M13 15c-2 0 -5 1 -5 5" />
                            <path d="M4 13a2 2 0 0 1 2 -2h5a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-5a2 2 0 0 1 -2 -2l0 -5" />
                            <path d="M4 7v-2a1 1 0 0 1 1 -1h2" />
                            <path d="M11 4h2" />
                            <path d="M17 4h2a1 1 0 0 1 1 1v2" />
                            <path d="M20 11v2" />
                            <path d="M20 17v2a1 1 0 0 1 -1 1h-2" />
                        </svg>
                    </span>
                    <span class="flex-1 text-left font-medium">Optimize</span>
                </a>
            </nav>
            <div class="p-5 text-center border-t border-white/10 opacity-60 text-sm">
                <p id="app-version">Loading...</p>
            </div>
        </aside>

        <main class="flex-1 overflow-y-auto bg-gray-50">

        <!-- Dashboard Tab -->
        <section id="dashboard" class="tab-content p-10 bg-white min-h-screen hidden" data-route="dashboard">
            <div>
                <h2 class="text-3xl font-bold text-gray-800 mb-6">Dashboard</h2>
                
                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-blue-100 text-sm font-medium mb-1">Total Files</p>
                                <h3 class="text-3xl font-bold" id="stat-total-files">-</h3>
                            </div>
                            <div class="text-5xl opacity-50">
                                <svg viewBox="0 0 24 24" fill="currentColor" class="size-14">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                    <path d="M9 3a1 1 0 0 1 .608 .206l.1 .087l2.706 2.707h6.586a3 3 0 0 1 2.995 2.824l.005 .176v8a3 3 0 0 1 -2.824 2.995l-.176 .005h-14a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-11a3 3 0 0 1 2.824 -2.995l.176 -.005h4z" />
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-green-100 text-sm font-medium mb-1">Total Size</p>
                                <h3 class="text-3xl font-bold" id="stat-total-size">-</h3>
                            </div>
                            <div class="text-5xl opacity-50">üíæ</div>
                        </div>
                    </div>

                    <div class="bg-gradient-to-br from-pink-500 to-pink-600 text-white p-6 rounded-xl shadow-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-pink-100 text-sm font-medium mb-1">Images</p>
                                <h3 class="text-3xl font-bold" id="stat-images">-</h3>
                            </div>
                            <div class="text-5xl opacity-50">üñºÔ∏è</div>
                        </div>
                    </div>

                    <div class="bg-gradient-to-br from-orange-500 to-orange-600 text-white p-6 rounded-xl shadow-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-orange-100 text-sm font-medium mb-1">Documents</p>
                                <h3 class="text-3xl font-bold" id="stat-documents">-</h3>
                            </div>
                            <div class="text-5xl opacity-50">üìÑ</div>
                        </div>
                    </div>
                </div>

                <!-- Charts & Recent Files -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <!-- File Types Chart -->
                    <div class="bg-white p-6 rounded-xl border-2 border-gray-200 shadow-sm">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">File Types Distribution</h3>
                        <div id="file-types-chart" class="space-y-3"></div>
                    </div>

                    <!-- Recent Uploads -->
                    <div class="bg-white p-6 rounded-xl border-2 border-gray-200 shadow-sm">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">Recent Uploads</h3>
                        <div id="recent-uploads" class="space-y-3 max-h-80 overflow-y-auto"></div>
                    </div>
                </div>

                <!-- Storage by Folder -->
                <div class="bg-white p-6 rounded-xl border-2 border-gray-200 shadow-sm">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Storage by Folder</h3>
                    <div id="folder-storage" class="space-y-3"></div>
                </div>
            </div>
        </section>

        <!-- Upload Tab -->
        <section id="upload" class="tab-content p-10 bg-white min-h-screen block" data-route="upload">
            <div>
                <h2 class="text-3xl font-bold text-gray-800 mb-6">Upload Files</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-gray-50 p-6 rounded-xl border-2 border-gray-200">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2">
                            <svg viewBox="0 0 24 24" fill="currentColor" class="size-6">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                <path d="M12 2l.117 .007a1 1 0 0 1 .876 .876l.007 .117v4l.005 .15a2 2 0 0 0 1.838 1.844l.157 .006h4l.117 .007a1 1 0 0 1 .876 .876l.007 .117v9a3 3 0 0 1 -2.824 2.995l-.176 .005h-10a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-14a3 3 0 0 1 2.824 -2.995l.176 -.005zm3 14h-6a1 1 0 0 0 0 2h6a1 1 0 0 0 0 -2m0 -4h-6a1 1 0 0 0 0 2h6a1 1 0 0 0 0 -2" />
                                <path d="M19 7h-4l-.001 -4.001z" />
                            </svg>
                            <span>File Upload</span>
                        </h3>
                        <form id="file-upload-form">
                            <div class="mb-5">
                                <label class="block mb-2 font-medium text-gray-700" for="storage-path">Storage Path (optional):</label>
                                <input type="text" id="storage-path" placeholder="e.g., documents/reports" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-600 transition-colors">
                            </div>
                            <div class="mb-5">
                                <label class="block mb-2 font-medium text-gray-700" for="file-prefix">File Prefix (optional):</label>
                                <input type="text" id="file-prefix" placeholder="e.g., project-" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-600 transition-colors">
                            </div>
                            <div class="my-5">
                                <input type="file" id="file-input" multiple class="hidden">
                                <label for="file-input" class="block py-4 px-5 bg-white border-2 border-dashed border-gray-300 rounded-lg text-center cursor-pointer hover:border-orange-600 hover:bg-orange-50 transition-all text-gray-500 hover:text-orange-600">Choose Files</label>
                            </div>
                            <button type="submit" class="w-full px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-all transform hover:-translate-y-0.5 hover:shadow-lg">Upload Files</button>
                        </form>
                        <div id="file-upload-status" class="mt-4 hidden"></div>
                    </div>

                    <div class="bg-gray-50 p-6 rounded-xl border-2 border-gray-200">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2">
                            <svg viewBox="0 0 24 24" fill="currentColor" class="size-6">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                <path d="M8.813 11.612c.457 -.38 .918 -.38 1.386 .011l.108 .098l4.986 4.986l.094 .083a1 1 0 0 0 1.403 -1.403l-.083 -.094l-1.292 -1.293l.292 -.293l.106 -.095c.457 -.38 .918 -.38 1.386 .011l.108 .098l4.674 4.675a4 4 0 0 1 -3.775 3.599l-.206 .005h-12a4 4 0 0 1 -3.98 -3.603l6.687 -6.69l.106 -.095zm9.187 -9.612a4 4 0 0 1 3.995 3.8l.005 .2v9.585l-3.293 -3.292l-.15 -.137c-1.256 -1.095 -2.85 -1.097 -4.096 -.017l-.154 .14l-.307 .306l-2.293 -2.292l-.15 -.137c-1.256 -1.095 -2.85 -1.097 -4.096 -.017l-.154 .14l-5.307 5.306v-9.585a4 4 0 0 1 3.8 -3.995l.2 -.005h12zm-2.99 5l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z" />
                            </svg>
                            <span>Image Upload</span>
                        </h3>
                        <form id="image-upload-form">
                            <div class="my-5">
                                <input type="file" id="image-input" multiple accept="image/*" class="hidden">
                                <label for="image-input" class="block py-4 px-5 bg-white border-2 border-dashed border-gray-300 rounded-lg text-center cursor-pointer hover:border-orange-600 hover:bg-orange-50 transition-all text-gray-500 hover:text-orange-600">Choose Images</label>
                            </div>
                            <button type="submit" class="w-full px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-all transform hover:-translate-y-0.5 hover:shadow-lg">Upload Images</button>
                        </form>
                        <div id="image-upload-status" class="mt-4 hidden"></div>
                    </div>
                </div>

                <div id="upload-preview" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4"></div>
            </div>
        </section>

        <!-- Browse Tab -->
        <section id="browse" class="tab-content p-10 bg-white min-h-screen hidden" data-route="browse">
            <div>
                <h2 class="text-3xl font-bold text-gray-800 mb-6">Browse Files & Folders</h2>
                <div class="breadcrumb bg-gray-50 px-4 py-3 rounded-lg mb-5 flex items-center gap-2 flex-wrap">
                    <span class="breadcrumb-item cursor-pointer text-orange-600 font-medium hover:underline flex items-center gap-1" data-path=""><svg viewBox="0 0 24 24" fill="currentColor" class="size-4"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 3a1 1 0 0 1 .608 .206l.1 .087l2.706 2.707h6.586a3 3 0 0 1 2.995 2.824l.005 .176v8a3 3 0 0 1 -2.824 2.995l-.176 .005h-14a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-11a3 3 0 0 1 2.824 -2.995l.176 -.005h4z" /></svg> storage</span>
                </div>
                <div id="folder-content" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                    <div class="text-center py-10 text-gray-500">Loading...</div>
                </div>
            </div>
        </section>

        <!-- Search Tab -->
        <section id="search" class="tab-content p-10 bg-white min-h-screen hidden" data-route="search">
            <div>
                <h2 class="text-3xl font-bold text-gray-800 mb-6">Search Files</h2>
                <form id="search-form" class="flex gap-3 mb-8 flex-col sm:flex-row">
                    <input type="text" id="search-query" placeholder="Enter filename..." required class="flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-600">
                    <select id="search-type" class="px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-600">
                        <option value="">All Files</option>
                        <option value="image">Images</option>
                        <option value="office">Office Documents</option>
                    </select>
                    <button type="submit" class="px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-all transform hover:-translate-y-0.5">üîç Search</button>
                </form>
                <div id="search-results" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
            </div>
        </section>

        <!-- Image Optimize Tab -->
        <section id="optimize" class="tab-content p-10 bg-white min-h-screen hidden" data-route="optimize">
            <div>
                <h2 class="text-3xl font-bold text-gray-800 mb-2">Image Optimization Tool</h2>
                <p class="text-gray-600 mb-6">Enter an image filename and customize optimization parameters</p>
                
                <form id="optimize-form" class="max-w-4xl">
                    <div class="mb-5">
                        <label class="block mb-2 font-medium text-gray-700" for="image-filename">Image Filename:</label>
                        <input type="text" id="image-filename" placeholder="e.g., example.jpg" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-600">
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 mb-6">
                        <div>
                            <label class="block mb-2 font-medium text-gray-700" for="opt-format">Format:</label>
                            <select id="opt-format" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-600">
                                <option value="">Original</option>
                                <option value="jpg">JPEG</option>
                                <option value="png">PNG</option>
                                <option value="webp">WebP</option>
                                <option value="avif">AVIF</option>
                            </select>
                        </div>

                        <div>
                            <label class="block mb-2 font-medium text-gray-700" for="opt-quality">Quality (1-100):</label>
                            <input type="number" id="opt-quality" min="1" max="100" placeholder="80" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-600">
                        </div>

                        <div>
                            <label class="block mb-2 font-medium text-gray-700" for="opt-width">Width (px):</label>
                            <input type="number" id="opt-width" min="1" placeholder="Auto" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-600">
                        </div>

                        <div>
                            <label class="block mb-2 font-medium text-gray-700" for="opt-height">Height (px):</label>
                            <input type="number" id="opt-height" min="1" placeholder="Auto" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-600">
                        </div>

                        <div>
                            <label class="block mb-2 font-medium text-gray-700" for="opt-fit">Fit Mode:</label>
                            <select id="opt-fit" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-600">
                                <option value="">Default</option>
                                <option value="cover">Cover</option>
                                <option value="contain">Contain</option>
                                <option value="fill">Fill</option>
                                <option value="inside">Inside</option>
                                <option value="outside">Outside</option>
                            </select>
                        </div>
                    </div>

                    <button type="submit" class="px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-all transform hover:-translate-y-0.5 hover:shadow-lg">Generate Optimized URL</button>
                </form>

                <div id="optimize-result" class="mt-8 hidden"></div>
            </div>
        </section>
        </main>
    </div>

    <!-- Preview Modal -->
    <div id="preview-modal" class="modal fixed inset-0 bg-black/80 z-50 hidden items-center justify-center p-4">
            <div class="bg-white rounded-xl p-8 max-w-6xl max-h-[90vh] overflow-auto relative animate-[slideDown_0.3s_ease]">
                <span class="close absolute right-5 top-5 text-3xl font-bold text-gray-400 cursor-pointer hover:text-red-500 transition-colors">&times;</span>
                <div id="preview-container" class="text-center"></div>
            </div>
        </div>

        <!-- Move File Modal -->
        <div id="move-modal" class="modal fixed inset-0 bg-black/80 z-50 hidden items-center justify-center p-4">
            <div class="bg-white rounded-xl p-8 max-w-md w-full relative animate-[slideDown_0.3s_ease]">
                <span class="close absolute right-5 top-5 text-3xl font-bold text-gray-400 cursor-pointer hover:text-red-500 transition-colors">&times;</span>
                <h3 class="text-2xl font-bold text-gray-800 mb-5">Move File</h3>
                <form id="move-form">
                    <input type="hidden" id="move-filename">
                    <div class="mb-5">
                        <label class="block mb-2 font-medium text-gray-700" for="move-destination">Destination Path:</label>
                        <input type="text" id="move-destination" placeholder="e.g., folder1/subfolder" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-600">
                    </div>
                    <button type="submit" class="w-full px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-all">Move File</button>
                </form>
            </div>
        </div>

        <!-- Delete File Modal -->
        <div id="delete-modal" class="modal fixed inset-0 bg-black/80 z-50 hidden items-center justify-center p-4">
            <div class="bg-white rounded-xl p-8 max-w-md w-full relative animate-[slideDown_0.3s_ease]">
                <span class="close absolute right-5 top-5 text-3xl font-bold text-gray-400 cursor-pointer hover:text-red-500 transition-colors">&times;</span>
                <h3 class="text-2xl font-bold text-gray-800 mb-5">‚ö†Ô∏è Delete File</h3>
                <p class="text-gray-600 mb-5">Are you sure you want to delete this file? This action cannot be undone.</p>
                <div class="bg-gray-50 p-4 rounded-lg mb-6">
                    <p class="font-semibold text-gray-800" id="delete-filename-display"></p>
                </div>
                <input type="hidden" id="delete-filename">
                <div class="flex gap-3">
                    <button type="button" class="flex-1 px-6 py-3 bg-gray-300 text-gray-800 rounded-lg font-medium hover:bg-gray-400 transition-all" onclick="closeDeleteModal()">Cancel</button>
                    <button type="button" class="flex-1 px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-all" onclick="confirmDeleteFile()">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/app.js"></script>
</body>
</html>
